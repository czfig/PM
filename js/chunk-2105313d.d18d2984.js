(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2105313d"],{5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"939c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"returnContain"},[a("el-steps",{attrs:{active:1,"finish-status":"wait",simple:""}},[a("el-step",{attrs:{title:"选择作业项目"}}),a("el-step",{attrs:{title:"借用工器具"}}),a("el-step",{attrs:{title:"确认执行作业"}})],1),t._m(0),a("div",{staticClass:"tools-contain",staticStyle:{height:"calc(100vh - 300px)"}},[a("div",{staticClass:"tools-left"},[a("label",{staticClass:"txt"},[t._v("推荐借用工器具列表")]),a("DataTable",{attrs:{index:!0,opgroup:!0,filter:!1,stripe:!0,height:"calc(100vh - 370px)",fields:[{id:"name",name:"工器具名称",show:!0,width:"200"},{id:"model",name:"规格型号",show:!0,width:"200"},{id:"number",name:"推荐数量",show:!0,width:"120"}]},on:{initDataTable:t.handleLeft}})],1),a("div",{staticClass:"tools-right"},[a("label",[t._v("已扫描待领用工具列表")]),a("DataTable",{ref:"checkTool",attrs:{opgroup:!0,expand:!0,filter:!1,stripe:!0,height:"calc(100vh - 370px)",fields:[{id:"name",name:"工器具名称",show:!0,width:"200"},{id:"model",name:"规格型号",show:!0,width:"200"},{id:"number",name:"已扫描数量",show:!0,width:"120"}],expandList:[{id:"id",name:"工器具编号",show:!0}]},on:{initDataTable:t.handleRight}})],1)]),a("el-button",{attrs:{type:"primary"},on:{click:t.showDiff}},[t._v("确认借出")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.$router.push({name:"normalBorrowStep1"})}}},[t._v("返回上一步")]),a("DialogTable",{ref:"diffTableDialog",attrs:{stripe:"",title:"您还有下列工器具有待借出才能完成相应的作业任务",filter:"",custombtn:"",diafootbtn:[{name:"知道了，现在去补借相应工器具并完成扫描",type:"success",action:function(){t.$router.push({name:"normalBorrowStep3"})}}],fields:[{id:"name",name:"工器具名称",show:!0,width:200},{id:"model",name:"型号",show:!0},{id:"diffnum",name:"待补数量",show:!0}]}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"returnContain-info"},[t._v(" 作业项目 "),a("br"),a("span",{staticStyle:{color:"#cccccc"}},[t._v(" 绝缘杆作业法带电修剪树枝、清除异物、扶正绝缘子、拆除退役设备；加装或拆除接触设备套管、故障指示器、驱鸟器等标准化作业 ")]),a("br"),a("span",{staticStyle:{color:"#cccccc"}},[t._v(" 绝缘杆作业法带电更换避雷器标准化作业 ")])])}],r=a("5530"),s=(a("d3b7"),a("159b"),a("b0c0"),{data:function(){return{user:this.$storage.getUserInfo(),leftData:[],testData:[],diffData:[]}},created:function(){this.leftData=this.$storage.getItem("normalBorrowStep2")},methods:{handleLeft:function(t){t.success(this.leftData)},handleRight:function(t){this.testData=[{name:"绝缘斗臂车",model:"10KV",number:"5",list:[{id:"ID202236183502141"},{id:"ID202236183507443"},{id:"ID202236183501384"},{id:"ID202236183505760"},{id:"ID202236183506619"}]}],t.success(this.testData)},addTools:function(){this.dialogTableVisible=!1,this.tableData2=this.tableData1,this.$refs["checkTool"].initList()},showDiff:function(){var t=this;this.leftData.forEach((function(e){t.testData.forEach((function(a){var i=e.number-a.number;e.name==a.name&&(e.sel=!0)&&i>0&&t.diffData.push(Object(r["a"])(Object(r["a"])({},e),{},{diffnum:i}))})),e.sel||t.diffData.push(Object(r["a"])(Object(r["a"])({},e),{},{diffnum:e.number}))})),this.$storage.setItem("normalBorrowStep3",this.testData),this.$refs["diffTableDialog"].show(this.diffData)}},beforeDestroy:function(){this.$storage.remove("normalBorrowStep2")}}),o=s,c=a("2877"),l=Object(c["a"])(o,i,n,!1,null,null,null);e["default"]=l.exports},dbb4:function(t,e,a){var i=a("23e7"),n=a("83ab"),r=a("56ef"),s=a("fc6a"),o=a("06cf"),c=a("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,i=s(t),n=o.f,l=r(i),f={},u=0;while(l.length>u)a=n(i,e=l[u++]),void 0!==a&&c(f,e,a);return f}})},e439:function(t,e,a){var i=a("23e7"),n=a("d039"),r=a("fc6a"),s=a("06cf").f,o=a("83ab"),c=n((function(){s(1)})),l=!o||c;i({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return s(r(t),e)}})}}]);