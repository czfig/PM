(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c0b4060"],{"408f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"returnContain"},[n("DataTable",{ref:"user-list",attrs:{url:"/userManage/getAlluser",param:e.param,stripe:"",topOpera:"",page:"",index:"","page-size":e.pageSize,height:"calc(100vh - 180px)",opgroup:"",tableOperationsWidth:150,tableOperations:[{type:"success",name:"添加用户",action:function(){e.$refs["user-form"].show({})}}],tableSelections:[{type:"select",value:e.param.city,options:e.cityOptions,action:e.selectCity},{type:"input",value:e.param.name,placeholder:"请输入用户名称",action:e.selectName}],fields:[{id:"username",name:"用户账号",show:!0},{id:"name",name:"用户名",show:!0},{id:"rolename",name:"角色",show:!0},{id:"tel_num",name:"电话号码",show:!0},{id:"city",name:"城市",show:!0}],operations:[{name:"编辑",type:"warning",action:function(t){return e.$refs["user-form"].show(t)}},{name:"停用",type:"info",action:e.changeUserState,show:function(e){return e.state}},{name:"启用",type:"success",action:e.changeUserState,show:function(e){return!e.state}}]},on:{initDataTable:e.initTable}}),n("DialogForm",{ref:"user-form",attrs:{title:"用户信息",fields:[{id:"username",lable:"账号",required:!0},{id:"name",lable:"用户名",required:!0},{id:"sign",lable:"角色",required:!0,type:"select",options:[{name:"工器具审核员",value:"Identityadmin"},{name:"管理员",value:"admin"},{name:"审核员",value:"auditor"},{name:"库管员",value:"Warehousekeeper"},{name:"班长",value:"Foreman"},{name:"成员",value:"member"}]},{id:"tel_num",lable:"电话号码",required:!0},{id:"city",lable:"城市",required:!0}]},on:{submit:e.submitUserInfo}})],1)},i=[],r=(n("d81d"),n("b0c0"),n("c24f")),s={data:function(){return{param:{city:"",name:""},cityOptions:[],pageSize:14}},created:function(){var e=this;this.pageSize=parseInt((document.body.clientHeight-180)/36),Object(r["b"])().then((function(t){e.cityOptions=t.data.map((function(e){return{label:e.city,value:e.city}}))}))},methods:{initTable:function(e){var t=e.data,n=e.success;console.log(t.list),n(t.list)},selectCity:function(e){this.$refs["user-list"].initList()},selectName:function(e){"end"!==e?(this.param.city="",this.param.name=e):this.$refs["user-list"].initList()},submitUserInfo:function(e){var t=this;e.id?Object(r["d"])(e).then((function(e){t.$refs["user-list"].initList()})):Object(r["a"])(e).then((function(e){t.$refs["user-list"].initList()}))},changeUserState:function(e){var t=this;console.log(e.state),e.state?e.state=0:e.state=1,Object(r["d"])(e).then((function(e){t.$refs["user-list"].initList()}))}}},u=s,o=n("2877"),c=Object(o["a"])(u,a,i,!1,null,null,null);t["default"]=c.exports},c24f:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return o}));var a=n("9dc1");function i(e){return Object(a["a"])({url:"/userManage/getAllCity",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/userManage/updateUser",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/userManage/addUser",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/role/getAllRole",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/role/updateRole",method:"post",data:e})}}}]);