(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08ee964e"],{"07d3":function(t,e,n){"use strict";n.d(e,"k",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"l",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return j})),n.d(e,"c",(function(){return h}));var a=n("9dc1");function s(t){return Object(a["a"])({url:"/filing_applications/save",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/ToolWarehousing/addTools",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/ToolArchives/updateApplication",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/ToolArchives/cancelById",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/filing_applications/findAll",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/filing_applications/findAll_result",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/filing_applications/city",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/filing_applications/city_result",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/filing_applications/city_storage_id",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/filing_applications/city_storage_id_result",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/filing_applications/pass",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/filing_applications/faild",method:"post",data:t})}},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},2:function(t,e){},"2b10":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"returnContain"},[t._m(0),n("div",{staticClass:"tools-contain"},[n("div",{staticClass:"tools-left"},[n("DataTable",{ref:"applytable",staticStyle:{"margin-top":"22px"},attrs:{height:"100%",url:"/ToolArchives/listDoneByApplicationId",param:{user_id:t.user.id},opgroup:!0,stripe:!0,filter:!1,fields:[{id:"name",name:"工器具名称",show:!0},{id:"brand",name:"品牌",show:!0},{id:"model",name:"工器具型号",show:!0},{id:"number",name:"总数量",show:!0},{id:"selnum",name:"已入库数量",show:!0}]},on:{initDataTable:t.handleLeft}})],1),n("div",{staticClass:"tools-right"},[n("DataTable",{ref:"lefttable",staticStyle:{"margin-top":"22px"},attrs:{height:"100%",opgroup:"",stripe:"",filter:"",expand:"",fields:[{id:"name",name:"工器具名称",show:!0,width:"200"},{id:"brand",name:"品牌",show:!0,width:"80"},{id:"model",name:"型号",show:!0,width:"80"},{id:"num",name:"已扫描",show:!0,width:"100"},{id:"lasttest_time",name:"上次试验时间",show:!0,type:"date",width:"200"}],"expand-list":[{id:"code",name:"芯片码"}]},on:{initDataTable:t.handleRight}})],1)]),n("DialogTable",{ref:"diffTableDialog",attrs:{wid:"60%",title:"未入库的工器具情况",stripe:"",filter:"",custombtn:"",diafootbtn:[{name:"先不入库，继续扫描添加",type:"danger",action:function(){t.$refs["diffTableDialog"].close()}},{name:"确认，先进行这一批入库",type:"success",action:t.handleSubmit}],fields:[{id:"name",name:"工器具名称",show:!0,width:"200"},{id:"brand",name:"品牌",show:!0,width:"80"},{id:"model",name:"型号",show:!0,width:"80"},{id:"number",name:"总数量",show:!0,width:"80"},{id:"selnum",name:"已录库数量",show:!0,width:"80"},{id:"num",name:"本次扫描数量",show:!0,width:"80"},{id:"diffnum",name:"未扫描的芯片数量",show:!0}]}}),n("el-button",{attrs:{type:"primary"},on:{click:t.showDiff}},[t._v("提交(仅测试，会给每条工器5个已扫描,上次试验时间不提交默认为入库时间)")])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-around","margin-top":"20px","margin-bottom":"10px"}},[n("span",[t._v("待扫描工器具芯片列表")]),n("span",[t._v("已扫工器具芯片列表")])])}],i=n("5530"),r=(n("d3b7"),n("159b"),n("b0c0"),n("07d3")),o=n("6ae0"),c=n("c1df"),d=n.n(c),f=n("832a"),u={data:function(){return{user:this.$storage.getUserInfo(),dialogTableVisible:!1,testData:[],leftData:[],diffData:[],periodData:{}}},methods:{handleLeft:function(t){var e=t.data,n=t.success;this.leftData=e;for(var a=0;a<e.length;a++)this.testData.push(Object(i["a"])(Object(i["a"])({},e[a]),{},{num:5,list:[{code:"ID"+Object(f["b"])()},{code:"ID"+Object(f["b"])()},{code:"ID"+Object(f["b"])()},{code:"ID"+Object(f["b"])()},{code:"ID"+Object(f["b"])()}]}));n(e)},handleRight:function(t){t.success(this.testData)},handleSubmit:function(){var t=this,e=[],n=[],a=this.user.storage_id,s=this.periodData;this.testData.forEach((function(t){t.list.forEach((function(n){e.push({code:n.code,lasttest_time:d()(t.lasttest_time).format("YYYY-MM-DD"),name:t.name,model:t.model,brand:t.brand,repository_id:a,totest_time:s[t.name]?d()(t.lasttest_time||new Date).add("period[item.name]","month").format("YYYY-MM-DD"):null})}))})),this.testData.forEach((function(t){n.push({id:t.id,selnum:t.selnum+t.num})})),Object(r["l"])(n).then(),Object(r["a"])(e).then((function(e){t.$refs["applytable"].initList(),t.$refs["lefttable"].initList(),t.testData=[],t.$refs["diffTableDialog"].close(),t.$message.success("添加成功")}))},showDiff:function(){var t=this;this.diffData=[],this.leftData.forEach((function(e){t.testData.forEach((function(n){var a=e.number-e.selnum-n.num;e.id===n.id&&a&&t.diffData.push(Object(i["a"])(Object(i["a"])(Object(i["a"])({},e),n),{},{diffnum:a}))&&(n.selnum=e.selnum)}))})),this.$refs["diffTableDialog"].show(this.diffData)}},created:function(){var t=this;Object(o["a"])({city:this.user.city}).then((function(e){e.data.forEach((function(e){t.periodData[e.toolname]=e.period})),console.log(t.periodData)}))}},l=u,b=n("2877"),j=Object(b["a"])(l,a,s,!1,null,null,null);e["default"]=j.exports},3:function(t,e){},4:function(t,e){},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d7167","./ca.js":"d7167","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="4678"},5:function(t,e){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},6:function(t,e){},"6ae0":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return i}));var a=n("9dc1");function s(t){return Object(a["a"])({url:"/toollifecycle/toolTestApplication",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/expconfig/getperiod",method:"post",data:t})}},7:function(t,e){},8:function(t,e){},"832a":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));n("7db0"),n("d3b7"),n("b0c0"),n("25f0");var a=n("1c46"),s=n.n(a);function i(t){for(var e=1;e<t.length;e++)t[e]=r(t[e-1],t[e]);return t[t.length-1]}function r(t,e){for(var n=function(n){var a=e[n],s=t.find((function(t){return t.name==a.name&&t.model==a.model}));s?s.number=Math.max(a.number,s.number):t.push(a)},a=0;a<e.length;a++)n(a);return t}function o(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=new Date,n=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),s=e.getDate().toString(),i=e.getHours().toString(),r=e.getMinutes().toString(),o=e.getSeconds().toString(),c="",d=0;d<t;d++)c+=Math.floor(10*Math.random());return n+a+s+i+r+o+c}function c(t){var e=s.a.createHash("md5");return e.update(t),e.digest("hex")}},9:function(t,e){},dbb4:function(t,e,n){var a=n("23e7"),s=n("83ab"),i=n("56ef"),r=n("fc6a"),o=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,n,a=r(t),s=o.f,d=i(a),f={},u=0;while(d.length>u)n=s(a,e=d[u++]),void 0!==n&&c(f,e,n);return f}})},e439:function(t,e,n){var a=n("23e7"),s=n("d039"),i=n("fc6a"),r=n("06cf").f,o=n("83ab"),c=s((function(){r(1)})),d=!o||c;a({target:"Object",stat:!0,forced:d,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(i(t),e)}})}}]);